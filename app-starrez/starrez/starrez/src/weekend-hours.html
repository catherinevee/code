<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekend Hours - Sunflower State College</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <meta name="description" content="Current weekend hours and status for all campus facilities at Sunflower State College">
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-college-blue shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <img class="h-8 w-8" src="images/logo.png" alt="Sunflower State College Logo">
                        <h1 class="ml-2 text-xl font-bold text-white inline">Sunflower State College</h1>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="index.html" class="text-white hover:bg-college-gold hover:text-college-blue px-3 py-2 rounded-md text-sm font-medium">Home</a>
                        <a href="dorms.html" class="text-white hover:bg-college-gold hover:text-college-blue px-3 py-2 rounded-md text-sm font-medium">Dorms</a>
                        <a href="study-areas.html" class="text-white hover:bg-college-gold hover:text-college-blue px-3 py-2 rounded-md text-sm font-medium">Study Areas</a>
                        <a href="weekend-hours.html" class="bg-college-gold text-college-blue px-3 py-2 rounded-md text-sm font-medium">Weekend Hours</a>
                        <a href="move-in-tips.html" class="text-white hover:bg-college-gold hover:text-college-blue px-3 py-2 rounded-md text-sm font-medium">Move-in Tips</a>
                        <a href="wifi.html" class="text-white hover:bg-college-gold hover:text-college-blue px-3 py-2 rounded-md text-sm font-medium">WiFi</a>
                    </div>
                </div>
                
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button type="button" class="mobile-menu-button inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-college-gold hover:text-college-blue focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                        <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div class="mobile-menu hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="text-white hover:bg-college-gold hover:text-college-blue block px-3 py-2 rounded-md text-base font-medium">Home</a>
                <a href="dorms.html" class="text-white hover:bg-college-gold hover:text-college-blue block px-3 py-2 rounded-md text-base font-medium">Dorms</a>
                <a href="study-areas.html" class="text-white hover:bg-college-gold hover:text-college-blue block px-3 py-2 rounded-md text-base font-medium">Study Areas</a>
                <a href="weekend-hours.html" class="bg-college-gold text-college-blue block px-3 py-2 rounded-md text-base font-medium">Weekend Hours</a>
                <a href="move-in-tips.html" class="text-white hover:bg-college-gold hover:text-college-blue block px-3 py-2 rounded-md text-base font-medium">Move-in Tips</a>
                <a href="wifi.html" class="text-white hover:bg-college-gold hover:text-college-blue block px-3 py-2 rounded-md text-base font-medium">WiFi</a>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="bg-white shadow">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="md:flex md:items-center md:justify-between">
                <div class="flex-1 min-w-0">
                    <h1 class="text-3xl font-bold text-gray-900">Weekend Hours</h1>
                    <p class="mt-2 text-lg text-gray-600">Current status and extended hours for campus facilities</p>
                </div>
                <div class="mt-4 md:mt-0 md:ml-4">
                    <div class="flex items-center text-sm text-gray-500">
                        <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span id="current-time">Loading current time...</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <div class="px-4 py-6 sm:px-0">
            
            <!-- Quick Status Overview -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Quick Status Check</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div id="open-facilities" class="text-center p-4 bg-green-50 rounded-lg">
                        <div class="text-2xl font-bold text-green-600" id="open-count">-</div>
                        <div class="text-sm text-green-800">Currently Open</div>
                    </div>
                    <div id="closing-soon" class="text-center p-4 bg-yellow-50 rounded-lg">
                        <div class="text-2xl font-bold text-yellow-600" id="closing-count">-</div>
                        <div class="text-sm text-yellow-800">Closing Soon</div>
                    </div>
                    <div id="closed-facilities" class="text-center p-4 bg-red-50 rounded-lg">
                        <div class="text-2xl font-bold text-red-600" id="closed-count">-</div>
                        <div class="text-sm text-red-800">Currently Closed</div>
                    </div>
                </div>
            </div>

            <!-- Search and Filter -->
            <div id="hours-search"></div>
            
            <!-- Facilities Grid -->
            <div id="facilities-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Facility cards will be populated by JavaScript -->
            </div>
            
            <!-- Emergency Information -->
            <div class="mt-12 bg-red-50 border border-red-200 rounded-lg p-6">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-sm font-medium text-red-800">Emergency Access</h3>
                        <div class="mt-2 text-sm text-red-700">
                            <p>For emergency building access during closed hours, contact Campus Security at <strong>(555) 123-4911</strong> or use the emergency phones located outside each building.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-college-blue text-white mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Campus Operations</h3>
                    <p>Facilities Management<br>
                    Operations Center<br>
                    (555) 123-4580<br>
                    facilities@sunflower.edu</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-college-gold">Campus Map</a></li>
                        <li><a href="#" class="hover:text-college-gold">Event Calendar</a></li>
                        <li><a href="study-areas.html" class="hover:text-college-gold">Study Spaces</a></li>
                        <li><a href="#" class="hover:text-college-gold">Parking Information</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Emergency</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-college-gold">Campus Security: (555) 123-4911</a></li>
                        <li><a href="#" class="hover:text-college-gold">Health Center: (555) 123-4920</a></li>
                        <li><a href="#" class="hover:text-college-gold">Emergency Procedures</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-blue-800 mt-8 pt-8 text-center">
                <p>&copy; 2025 Sunflower State College. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/content-loader.js"></script>
    <script src="js/search-component.js"></script>
    <script>
        // Weekend Hours System
        class WeekendHoursSystem {
            constructor() {
                this.facilities = [];
                this.searchComponent = null;
                this.updateInterval = null;
                
                this.init();
            }
            
            async init() {
                try {
                    await this.loadFacilities();
                    this.initializeSearch();
                    this.startTimeUpdates();
                    this.displayFacilities();
                    this.updateStatusCounts();
                } catch (error) {
                    console.error('Error initializing weekend hours:', error);
                }
            }
            
            async loadFacilities() {
                // In a real app, this would come from an API or ConfigMap
                this.facilities = [
                    {
                        id: 'library',
                        name: 'Henderson Memorial Library',
                        type: 'Academic',
                        location: 'Central Campus',
                        weekend_hours: {
                            saturday: { open: '09:00', close: '22:00' },
                            sunday: { open: '10:00', close: '20:00' }
                        },
                        regular_hours: {
                            monday: { open: '07:00', close: '23:00' },
                            tuesday: { open: '07:00', close: '23:00' },
                            wednesday: { open: '07:00', close: '23:00' },
                            thursday: { open: '07:00', close: '23:00' },
                            friday: { open: '07:00', close: '18:00' }
                        },
                        contact: '(555) 123-4575',
                        special_notes: 'Silent study areas available 24/7 for cardholders'
                    },
                    {
                        id: 'student-center',
                        name: 'Monarch Student Center',
                        type: 'Student Services',
                        location: 'North Campus',
                        weekend_hours: {
                            saturday: { open: '08:00', close: '24:00' },
                            sunday: { open: '08:00', close: '24:00' }
                        },
                        regular_hours: {
                            monday: { open: '06:00', close: '24:00' },
                            tuesday: { open: '06:00', close: '24:00' },
                            wednesday: { open: '06:00', close: '24:00' },
                            thursday: { open: '06:00', close: '24:00' },
                            friday: { open: '06:00', close: '24:00' }
                        },
                        contact: '(555) 123-4576',
                        special_notes: 'Food court closes at 22:00'
                    },
                    {
                        id: 'fitness-center',
                        name: 'Campus Recreation Center',
                        type: 'Recreation',
                        location: 'South Campus',
                        weekend_hours: {
                            saturday: { open: '06:00', close: '20:00' },
                            sunday: { open: '10:00', close: '18:00' }
                        },
                        regular_hours: {
                            monday: { open: '05:30', close: '22:00' },
                            tuesday: { open: '05:30', close: '22:00' },
                            wednesday: { open: '05:30', close: '22:00' },
                            thursday: { open: '05:30', close: '22:00' },
                            friday: { open: '05:30', close: '20:00' }
                        },
                        contact: '(555) 123-4577',
                        special_notes: 'Pool hours may vary'
                    },
                    {
                        id: 'dining-hall',
                        name: 'Sunflower Dining Hall',
                        type: 'Dining',
                        location: 'Central Campus',
                        weekend_hours: {
                            saturday: { open: '08:00', close: '20:00' },
                            sunday: { open: '09:00', close: '19:00' }
                        },
                        regular_hours: {
                            monday: { open: '07:00', close: '21:00' },
                            tuesday: { open: '07:00', close: '21:00' },
                            wednesday: { open: '07:00', close: '21:00' },
                            thursday: { open: '07:00', close: '21:00' },
                            friday: { open: '07:00', close: '20:00' }
                        },
                        contact: '(555) 123-4578',
                        special_notes: 'Grab-and-go available during limited hours'
                    },
                    {
                        id: 'computer-lab',
                        name: 'Technology Learning Center',
                        type: 'Academic',
                        location: 'Tech Building',
                        weekend_hours: {
                            saturday: { open: '10:00', close: '18:00' },
                            sunday: { open: '12:00', close: '18:00' }
                        },
                        regular_hours: {
                            monday: { open: '08:00', close: '22:00' },
                            tuesday: { open: '08:00', close: '22:00' },
                            wednesday: { open: '08:00', close: '22:00' },
                            thursday: { open: '08:00', close: '22:00' },
                            friday: { open: '08:00', close: '18:00' }
                        },
                        contact: '(555) 123-4579',
                        special_notes: 'Printing services available'
                    },
                    {
                        id: 'bookstore',
                        name: 'Campus Bookstore',
                        type: 'Retail',
                        location: 'Student Center',
                        weekend_hours: {
                            saturday: { open: '10:00', close: '16:00' },
                            sunday: { open: 'closed', close: 'closed' }
                        },
                        regular_hours: {
                            monday: { open: '08:00', close: '18:00' },
                            tuesday: { open: '08:00', close: '18:00' },
                            wednesday: { open: '08:00', close: '18:00' },
                            thursday: { open: '08:00', close: '18:00' },
                            friday: { open: '08:00', close: '17:00' }
                        },
                        contact: '(555) 123-4580',
                        special_notes: 'Online ordering available 24/7'
                    }
                ];
            }
            
            initializeSearch() {
                const searchCategories = [
                    { label: 'Academic', value: 'Academic' },
                    { label: 'Student Services', value: 'Student Services' },
                    { label: 'Recreation', value: 'Recreation' },
                    { label: 'Dining', value: 'Dining' },
                    { label: 'Retail', value: 'Retail' },
                    { label: 'Currently Open', value: 'open' },
                    { label: 'Closing Soon', value: 'closing-soon' },
                    { label: 'Closed', value: 'closed' }
                ];
                
                this.searchComponent = new SearchComponent('hours-search', {
                    placeholder: 'Search facilities by name, type, or location...',
                    categories: searchCategories,
                    onSearch: (query, filters) => this.handleSearch(query, filters)
                });
            }
            
            handleSearch(query, filters) {
                let filteredFacilities = [...this.facilities];
                
                // Apply text search
                if (query) {
                    const searchTerm = query.toLowerCase();
                    filteredFacilities = filteredFacilities.filter(facility => 
                        facility.name.toLowerCase().includes(searchTerm) ||
                        facility.type.toLowerCase().includes(searchTerm) ||
                        facility.location.toLowerCase().includes(searchTerm)
                    );
                }
                
                // Apply filters
                if (filters.length > 0) {
                    filteredFacilities = filteredFacilities.filter(facility => {
                        return filters.some(filter => {
                            if (['Academic', 'Student Services', 'Recreation', 'Dining', 'Retail'].includes(filter)) {
                                return facility.type === filter;
                            }
                            
                            const status = this.getFacilityStatus(facility);
                            switch (filter) {
                                case 'open':
                                    return status === 'open';
                                case 'closing-soon':
                                    return status === 'closing-soon';
                                case 'closed':
                                    return status === 'closed';
                                default:
                                    return true;
                            }
                        });
                    });
                }
                
                this.displayFacilities(filteredFacilities);
                this.searchComponent.updateResultCount(filteredFacilities.length);
            }
            
            startTimeUpdates() {
                this.updateCurrentTime();
                this.updateInterval = setInterval(() => {
                    this.updateCurrentTime();
                    this.updateStatusCounts();
                    this.displayFacilities(); // Refresh status indicators
                }, 60000); // Update every minute
            }
            
            updateCurrentTime() {
                const now = new Date();
                const options = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    timeZoneName: 'short'
                };
                document.getElementById('current-time').textContent = now.toLocaleDateString('en-US', options);
            }
            
            getFacilityStatus(facility) {
                const now = new Date();
                const currentDay = now.getDay(); // 0 = Sunday, 6 = Saturday
                const currentTime = now.getHours() * 100 + now.getMinutes(); // HHMM format
                
                let todayHours;
                if (currentDay === 0) { // Sunday
                    todayHours = facility.weekend_hours.sunday;
                } else if (currentDay === 6) { // Saturday
                    todayHours = facility.weekend_hours.saturday;
                } else {
                    // Weekday - use regular hours for comparison
                    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
                    const dayName = days[currentDay];
                    todayHours = facility.regular_hours[dayName];
                }
                
                if (!todayHours || todayHours.open === 'closed') {
                    return 'closed';
                }
                
                const openTime = parseInt(todayHours.open.replace(':', ''));
                const closeTime = parseInt(todayHours.close.replace(':', ''));
                
                if (currentTime < openTime || currentTime >= closeTime) {
                    return 'closed';
                }
                
                // Check if closing soon (within 30 minutes)
                const closeTimeMinutes = Math.floor(closeTime / 100) * 60 + (closeTime % 100);
                const currentTimeMinutes = Math.floor(currentTime / 100) * 60 + (currentTime % 100);
                
                if (closeTimeMinutes - currentTimeMinutes <= 30 && closeTimeMinutes > currentTimeMinutes) {
                    return 'closing-soon';
                }
                
                return 'open';
            }
            
            getStatusBadge(status) {
                const badges = {
                    'open': '<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">Open</span>',
                    'closing-soon': '<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">Closing Soon</span>',
                    'closed': '<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">Closed</span>'
                };
                return badges[status] || badges['closed'];
            }
            
            getNextOpenTime(facility) {
                const now = new Date();
                const currentDay = now.getDay();
                
                // Check today first
                let todayHours;
                if (currentDay === 0) { // Sunday
                    todayHours = facility.weekend_hours.sunday;
                } else if (currentDay === 6) { // Saturday
                    todayHours = facility.weekend_hours.saturday;
                }
                
                if (todayHours && todayHours.open !== 'closed') {
                    const openTime = parseInt(todayHours.open.replace(':', ''));
                    const currentTime = now.getHours() * 100 + now.getMinutes();
                    
                    if (currentTime < openTime) {
                        return `Opens today at ${this.formatTime(todayHours.open)}`;
                    }
                }
                
                // Check next day
                const tomorrow = new Date(now);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const tomorrowDay = tomorrow.getDay();
                
                let tomorrowHours;
                if (tomorrowDay === 0) { // Sunday
                    tomorrowHours = facility.weekend_hours.sunday;
                } else if (tomorrowDay === 6) { // Saturday
                    tomorrowHours = facility.weekend_hours.saturday;
                } else {
                    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
                    const dayName = days[tomorrowDay];
                    tomorrowHours = facility.regular_hours[dayName];
                }
                
                if (tomorrowHours && tomorrowHours.open !== 'closed') {
                    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                    return `Opens ${dayNames[tomorrowDay]} at ${this.formatTime(tomorrowHours.open)}`;
                }
                
                return 'Check schedule for next opening';
            }
            
            formatTime(timeString) {
                if (timeString === 'closed') return 'Closed';
                
                const hour = parseInt(timeString.split(':')[0]);
                const minute = timeString.split(':')[1];
                const ampm = hour >= 12 ? 'PM' : 'AM';
                const displayHour = hour % 12 || 12;
                
                return `${displayHour}:${minute} ${ampm}`;
            }
            
            updateStatusCounts() {
                let openCount = 0;
                let closingSoonCount = 0;
                let closedCount = 0;
                
                this.facilities.forEach(facility => {
                    const status = this.getFacilityStatus(facility);
                    switch (status) {
                        case 'open':
                            openCount++;
                            break;
                        case 'closing-soon':
                            closingSoonCount++;
                            break;
                        case 'closed':
                            closedCount++;
                            break;
                    }
                });
                
                document.getElementById('open-count').textContent = openCount;
                document.getElementById('closing-count').textContent = closingSoonCount;
                document.getElementById('closed-count').textContent = closedCount;
            }
            
            displayFacilities(facilities = this.facilities) {
                const container = document.getElementById('facilities-container');
                container.innerHTML = facilities.map(facility => this.renderFacilityCard(facility)).join('');
            }
            
            renderFacilityCard(facility) {
                const status = this.getFacilityStatus(facility);
                const statusBadge = this.getStatusBadge(status);
                const now = new Date();
                const currentDay = now.getDay();
                
                let todayHours;
                if (currentDay === 0) { // Sunday
                    todayHours = facility.weekend_hours.sunday;
                } else if (currentDay === 6) { // Saturday
                    todayHours = facility.weekend_hours.saturday;
                } else {
                    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
                    const dayName = days[currentDay];
                    todayHours = facility.regular_hours[dayName];
                }
                
                const hoursText = todayHours ? 
                    (todayHours.open === 'closed' ? 'Closed Today' : 
                     `${this.formatTime(todayHours.open)} - ${this.formatTime(todayHours.close)}`) : 
                    'Hours unavailable';
                
                return `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
                        <div class="p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">${facility.name}</h3>
                                    <p class="text-sm text-gray-500">${facility.type} â€¢ ${facility.location}</p>
                                </div>
                                ${statusBadge}
                            </div>
                            
                            <div class="space-y-3">
                                <div>
                                    <h4 class="text-sm font-medium text-gray-900 mb-1">Today's Hours</h4>
                                    <p class="text-sm text-gray-600">${hoursText}</p>
                                    ${status === 'closed' ? `<p class="text-xs text-gray-500 mt-1">${this.getNextOpenTime(facility)}</p>` : ''}
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-medium text-gray-900 mb-1">Weekend Schedule</h4>
                                    <div class="text-xs text-gray-600 space-y-1">
                                        <div class="flex justify-between">
                                            <span>Saturday:</span>
                                            <span>${facility.weekend_hours.saturday.open === 'closed' ? 'Closed' : 
                                                `${this.formatTime(facility.weekend_hours.saturday.open)} - ${this.formatTime(facility.weekend_hours.saturday.close)}`}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Sunday:</span>
                                            <span>${facility.weekend_hours.sunday.open === 'closed' ? 'Closed' : 
                                                `${this.formatTime(facility.weekend_hours.sunday.open)} - ${this.formatTime(facility.weekend_hours.sunday.close)}`}</span>
                                        </div>
                                    </div>
                                </div>
                                
                                ${facility.special_notes ? `
                                    <div class="border-t pt-3">
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Special Notes</h4>
                                        <p class="text-xs text-gray-600">${facility.special_notes}</p>
                                    </div>
                                ` : ''}
                                
                                <div class="border-t pt-3 flex items-center justify-between">
                                    <div class="text-xs text-gray-500">
                                        <svg class="inline h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                        </svg>
                                        ${facility.contact}
                                    </div>
                                    <button class="text-xs text-college-blue hover:text-college-gold font-medium"
                                            onclick="weekendHours.showFullSchedule('${facility.id}')">
                                        Full Schedule
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            showFullSchedule(facilityId) {
                const facility = this.facilities.find(f => f.id === facilityId);
                if (!facility) return;
                
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50';
                modal.innerHTML = `
                    <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-gray-900">${facility.name}</h3>
                            <button class="close-modal text-gray-400 hover:text-gray-600">
                                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-medium text-gray-900 mb-2">Regular Hours</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span>Monday:</span>
                                        <span>${this.formatTime(facility.regular_hours.monday.open)} - ${this.formatTime(facility.regular_hours.monday.close)}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Tuesday:</span>
                                        <span>${this.formatTime(facility.regular_hours.tuesday.open)} - ${this.formatTime(facility.regular_hours.tuesday.close)}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Wednesday:</span>
                                        <span>${this.formatTime(facility.regular_hours.wednesday.open)} - ${this.formatTime(facility.regular_hours.wednesday.close)}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Thursday:</span>
                                        <span>${this.formatTime(facility.regular_hours.thursday.open)} - ${this.formatTime(facility.regular_hours.thursday.close)}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Friday:</span>
                                        <span>${this.formatTime(facility.regular_hours.friday.open)} - ${this.formatTime(facility.regular_hours.friday.close)}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-t pt-4">
                                <h4 class="font-medium text-gray-900 mb-2">Weekend Hours</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span>Saturday:</span>
                                        <span>${facility.weekend_hours.saturday.open === 'closed' ? 'Closed' : 
                                            `${this.formatTime(facility.weekend_hours.saturday.open)} - ${this.formatTime(facility.weekend_hours.saturday.close)}`}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Sunday:</span>
                                        <span>${facility.weekend_hours.sunday.open === 'closed' ? 'Closed' : 
                                            `${this.formatTime(facility.weekend_hours.sunday.open)} - ${this.formatTime(facility.weekend_hours.sunday.close)}`}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-t pt-4">
                                <h4 class="font-medium text-gray-900 mb-2">Contact Information</h4>
                                <p class="text-sm text-gray-600">${facility.contact}</p>
                                ${facility.special_notes ? `<p class="text-sm text-gray-600 mt-2">${facility.special_notes}</p>` : ''}
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                // Close modal functionality
                modal.querySelector('.close-modal').addEventListener('click', () => {
                    document.body.removeChild(modal);
                });
                
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        document.body.removeChild(modal);
                    }
                });
            }
        }
        
        // Initialize the weekend hours system
        let weekendHours;
        document.addEventListener('DOMContentLoaded', () => {
            weekendHours = new WeekendHoursSystem();
        });
    </script>
</body>
</html>